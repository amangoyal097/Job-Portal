{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/aman/Assignments/DASS/Job Portal/2019101097/frontend/src/components/LoggedIn/Loggedin.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"@material-ui/core\";\n\nclass LoggedIn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currUser: {}\n    };\n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n    axios.get(\"http://localhost:8080/currUser\").then(response => {\n      let obj = response.data;\n\n      if (Object.entries(obj).length === 0) {\n        alert(\"Not logged In\");\n        this.props.history.push(\"/login\");\n      } else {\n        this.setState({\n          currUser: obj\n        });\n      }\n    }).catch(err => {\n      alert(\"Not logged In\");\n      this.props.history.push(\"/login\");\n    });\n    axios.get(\"http://localhost:8080/isLoggedIn\");\n  }\n\n  logout() {\n    axios.defaults.withCredentials = true;\n    axios.get(\"http://localhost:8080/logout\").then(response => {\n      alert(\"Logout Sucessful\");\n      this.props.history.push(\"/\");\n    }).catch(err => {\n      alert(\"Logout Failed\");\n      console.log(err);\n    });\n  } // if(Object.entries(this.state.currUser).length === 0)\n  //   render () {return <h1>Loading...</h1>;}\n  // else\n  // render() {\n  //       {Object.entries(this.state.currUser).length === 0 ? (\n  //         return <h1>Loading...</h1>;\n  //       ) : (\n  //         return <div>\n  //         <Button onClick={this.logout}>Logout</Button>\n  //         <h1>{this.state.currUser.username}</h1>\n  //         </div>;\n  //       )}\n  // }\n\n\n  render() {\n    if (true) return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Hello\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 22\n    }, this);else return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"No\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default LoggedIn;","map":{"version":3,"sources":["/home/aman/Assignments/DASS/Job Portal/2019101097/frontend/src/components/LoggedIn/Loggedin.js"],"names":["React","axios","Button","LoggedIn","Component","constructor","props","state","currUser","logout","bind","componentDidMount","defaults","withCredentials","get","then","response","obj","data","Object","entries","length","alert","history","push","setState","catch","err","console","log","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,mBAAvB;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACI,SAA7B,CAAuC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBV,IAAAA,KAAK,CAACW,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACAZ,IAAAA,KAAK,CACFa,GADH,CACO,gCADP,EAEGC,IAFH,CAESC,QAAD,IAAc;AAClB,UAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;;AACA,UAAIC,MAAM,CAACC,OAAP,CAAeH,GAAf,EAAoBI,MAApB,KAA+B,CAAnC,EAAsC;AACpCC,QAAAA,KAAK,CAAC,eAAD,CAAL;AACA,aAAKhB,KAAL,CAAWiB,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD,OAHD,MAGO;AACL,aAAKC,QAAL,CAAc;AACZjB,UAAAA,QAAQ,EAAES;AADE,SAAd;AAGD;AACF,KAZH,EAaGS,KAbH,CAaUC,GAAD,IAAS;AACdL,MAAAA,KAAK,CAAC,eAAD,CAAL;AACA,WAAKhB,KAAL,CAAWiB,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD,KAhBH;AAiBAvB,IAAAA,KAAK,CAACa,GAAN,CAAU,kCAAV;AACD;;AAEDL,EAAAA,MAAM,GAAG;AACPR,IAAAA,KAAK,CAACW,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACAZ,IAAAA,KAAK,CACFa,GADH,CACO,8BADP,EAEGC,IAFH,CAESC,QAAD,IAAc;AAClBM,MAAAA,KAAK,CAAC,kBAAD,CAAL;AACA,WAAKhB,KAAL,CAAWiB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,KALH,EAMGE,KANH,CAMUC,GAAD,IAAS;AACdL,MAAAA,KAAK,CAAC,eAAD,CAAL;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KATH;AAUD,GA3CoC,CA4CrC;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AACAG,EAAAA,MAAM,GAAG;AACP,QAAI,IAAJ,EAAU,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP,CAAV,KACK,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACN;;AA9DoC;;AAgEvC,eAAe3B,QAAf","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"@material-ui/core\";\n\nclass LoggedIn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currUser: {},\n    };\n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    axios.defaults.withCredentials = true;\n    axios\n      .get(\"http://localhost:8080/currUser\")\n      .then((response) => {\n        let obj = response.data;\n        if (Object.entries(obj).length === 0) {\n          alert(\"Not logged In\");\n          this.props.history.push(\"/login\");\n        } else {\n          this.setState({\n            currUser: obj,\n          });\n        }\n      })\n      .catch((err) => {\n        alert(\"Not logged In\");\n        this.props.history.push(\"/login\");\n      });\n    axios.get(\"http://localhost:8080/isLoggedIn\");\n  }\n\n  logout() {\n    axios.defaults.withCredentials = true;\n    axios\n      .get(\"http://localhost:8080/logout\")\n      .then((response) => {\n        alert(\"Logout Sucessful\");\n        this.props.history.push(\"/\");\n      })\n      .catch((err) => {\n        alert(\"Logout Failed\");\n        console.log(err);\n      });\n  }\n  // if(Object.entries(this.state.currUser).length === 0)\n  //   render () {return <h1>Loading...</h1>;}\n  // else\n  // render() {\n\n  //       {Object.entries(this.state.currUser).length === 0 ? (\n  //         return <h1>Loading...</h1>;\n  //       ) : (\n  //         return <div>\n  //         <Button onClick={this.logout}>Logout</Button>\n  //         <h1>{this.state.currUser.username}</h1>\n  //         </div>;\n  //       )}\n\n  // }\n  render() {\n    if (true) return <h1>Hello</h1>;\n    else return <h1>No</h1>;\n  }\n}\nexport default LoggedIn;\n"]},"metadata":{},"sourceType":"module"}