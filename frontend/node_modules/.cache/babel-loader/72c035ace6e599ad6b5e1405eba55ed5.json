{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/aman/Assignments/DASS/Job Portal/2019101097/frontend/src/components/ShowInfo/ShowInfo.js\",\n    _s = $RefreshSig$();\n\nimport { TextField, Button } from \"@material-ui/core\";\nimport { Rating } from \"@material-ui/lab\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nconst ShowInfo = props => {\n  _s();\n\n  const [eduOpen, setEduOpen] = useState(false);\n  const [skillOpen, setSkillOpen] = useState(false);\n  const [startYear, setStartYear] = useState(new Date());\n  const [endYear, setEndYear] = useState(new Date());\n\n  function handleEduOpen() {\n    setEduOpen(true);\n  }\n\n  function handleEduClose() {\n    setEduOpen(false);\n  }\n\n  function handleSkillOpen() {\n    setSkillOpen(true);\n  }\n\n  function handleSkillClose() {\n    setSkillOpen(false);\n  }\n\n  function addEducation() {\n    handleEduClose();\n  }\n\n  const useStyles = makeStyles(theme => ({\n    button: {\n      marginTop: \"20px\"\n    }\n  }));\n  const classes = useStyles();\n  axios.defaults.withCredentials = true;\n  const [userInfo, setUserInfo] = useState(props.userInfo);\n\n  const uploadFile = event => {\n    let type = event.target.name;\n    let filType = event.target.files[0].type;\n    if (type === \"Image\") setUserInfo(prevValues => {\n      return { ...prevValues,\n        ImagePath: event.target.files[0].name\n      };\n    });else setUserInfo(prevValues => {\n      return { ...prevValues,\n        resumePath: event.target.files[0].name\n      };\n    });\n\n    if (type === \"Image\" && filType !== \"image/jpeg\" && filType !== \"image/png\") {\n      alert(\"Only jpeg and png image allowed\");\n    } else {\n      let data = new FormData();\n      data.append(\"file\", event.target.files[0]);\n      data.append(\"type\", type);\n      axios.post(\"http://localhost:8080/storeFile\", data, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(response => alert(type + \"Uploaded\")).catch(err => {\n        alert(\"Couldn't upload \");\n        console.log(err);\n      }); // window.location.reload();\n    }\n  };\n\n  const downloadFile = type => {\n    let filename;\n    if (type === \"Image\") filename = userInfo.ImagePath;else filename = userInfo.resumePath;\n    axios({\n      method: \"POST\",\n      url: \"http://localhost:8080/getFile\",\n      responseType: \"blob\",\n      data: {\n        filename\n      }\n    }).then(response => {\n      console.log(response);\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.setAttribute(\"download\", filename); //or any other extension\n\n      document.body.appendChild(link);\n      link.click();\n    }).catch(err => {\n      console.log(err);\n\n      /*#__PURE__*/\n      _jsxDEV(Redirect, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  const updateInfo = event => {\n    setUserInfo(prevValues => {\n      return { ...prevValues,\n        [event.target.name]: event.target.value\n      };\n    });\n  };\n\n  const updateFullInfo = () => {\n    console.log(\"request for updating\");\n    console.log(props.userType);\n    axios.post(\"http://localhost:8080/updateUserInfo\", {\n      userInfo,\n      type: props.userType\n    }).then(response => alert(\"Updated information\")).catch(err => {\n      console.log(err);\n      alert(\"Couldnt update\");\n    });\n  };\n\n  const showEducation = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.button,\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 22\n        }, this),\n        onClick: handleEduOpen,\n        children: \"Add Education\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: eduOpen,\n        onClose: handleEduClose,\n        \"aria-labelledby\": \"form-dialog-title\",\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          id: \"form-dialog-title\",\n          children: \"Education Instance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            autoFocus: true,\n            required: true,\n            margin: \"dense\",\n            id: \"instName\",\n            label: \"Institution Name\",\n            type: \"text\",\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n            utils: DateFnsUtils,\n            children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n              views: [\"year\"],\n              required: true,\n              label: \"Select Start Year\",\n              value: startYear,\n              onChange: setStartYear,\n              style: {\n                marginTop: \"10px\"\n              },\n              fullWidth: true,\n              animateYearScrolling: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n              views: [\"year\"],\n              required: true,\n              label: \"Select End Year\",\n              value: endYear,\n              minDate: startYear,\n              onChange: setEndYear,\n              style: {\n                marginTop: \"10px\"\n              },\n              fullWidth: true,\n              animateYearScrolling: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleEduClose,\n            color: \"primary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: addEducation,\n            color: \"primary\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: process.env.PUBLIC_URL + \"/assets/profilePic.png\",\n      style: {\n        width: 100\n      },\n      alt: \"profilePic\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      name: \"name\",\n      value: userInfo.name,\n      onChange: updateInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      name: \"email\",\n      value: userInfo.email,\n      onChange: updateInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Rating, {\n      name: \"rating\",\n      value: Number(userInfo.rating),\n      onChange: updateInfo,\n      defaultValue: props.userInfo.rating,\n      precision: 0.5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: userInfo.rating\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), showEduction(), /*#__PURE__*/_jsxDEV(Button, {\n      color: \"primary\",\n      onClick: updateFullInfo,\n      children: \"Update Information\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      component: \"label\",\n      children: [\"Upload Image\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"Image\",\n        hidden: true,\n        onChange: e => e.target ? uploadFile(e) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      component: \"label\",\n      children: [\"Upload Resume\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"resume\",\n        hidden: true,\n        onChange: e => e.target ? uploadFile(e) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => downloadFile(\"Image\"),\n      children: \"Download Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => downloadFile(\"resume\"),\n      children: \"Download Resume\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShowInfo, \"7VYtTfGqWMy1jlpJt0FmL56HQUs=\", true);\n\n_c = ShowInfo;\nexport default ShowInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowInfo\");","map":{"version":3,"sources":["/home/aman/Assignments/DASS/Job Portal/2019101097/frontend/src/components/ShowInfo/ShowInfo.js"],"names":["TextField","Button","Rating","axios","React","useState","Redirect","ShowInfo","props","eduOpen","setEduOpen","skillOpen","setSkillOpen","startYear","setStartYear","Date","endYear","setEndYear","handleEduOpen","handleEduClose","handleSkillOpen","handleSkillClose","addEducation","useStyles","makeStyles","theme","button","marginTop","classes","defaults","withCredentials","userInfo","setUserInfo","uploadFile","event","type","target","name","filType","files","prevValues","ImagePath","resumePath","alert","data","FormData","append","post","headers","then","response","catch","err","console","log","downloadFile","filename","method","url","responseType","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","updateInfo","value","updateFullInfo","userType","showEducation","DateFnsUtils","process","env","PUBLIC_URL","width","email","Number","rating","showEduction","e"],"mappings":"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","sourcesContent":["import { TextField, Button } from \"@material-ui/core\";\nimport { Rating } from \"@material-ui/lab\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nconst ShowInfo = (props) => {\n  const [eduOpen, setEduOpen] = useState(false);\n  const [skillOpen, setSkillOpen] = useState(false);\n  const [startYear, setStartYear] = useState(new Date());\n  const [endYear, setEndYear] = useState(new Date());\n\n  function handleEduOpen() {\n    setEduOpen(true);\n  }\n  function handleEduClose() {\n    setEduOpen(false);\n  }\n  function handleSkillOpen() {\n    setSkillOpen(true);\n  }\n  function handleSkillClose() {\n    setSkillOpen(false);\n  }\n  function addEducation() {\n    handleEduClose();\n  }\n  const useStyles = makeStyles((theme) => ({\n    button: {\n      marginTop: \"20px\",\n    },\n  }));\n  const classes = useStyles();\n  axios.defaults.withCredentials = true;\n  const [userInfo, setUserInfo] = useState(props.userInfo);\n  const uploadFile = (event) => {\n    let type = event.target.name;\n    let filType = event.target.files[0].type;\n    if (type === \"Image\")\n      setUserInfo((prevValues) => {\n        return { ...prevValues, ImagePath: event.target.files[0].name };\n      });\n    else\n      setUserInfo((prevValues) => {\n        return { ...prevValues, resumePath: event.target.files[0].name };\n      });\n    if (\n      type === \"Image\" &&\n      filType !== \"image/jpeg\" &&\n      filType !== \"image/png\"\n    ) {\n      alert(\"Only jpeg and png image allowed\");\n    } else {\n      let data = new FormData();\n      data.append(\"file\", event.target.files[0]);\n      data.append(\"type\", type);\n      axios\n        .post(\"http://localhost:8080/storeFile\", data, {\n          headers: { \"Content-Type\": \"multipart/form-data\" },\n        })\n        .then((response) => alert(type + \"Uploaded\"))\n        .catch((err) => {\n          alert(\"Couldn't upload \");\n          console.log(err);\n        });\n      // window.location.reload();\n    }\n  };\n  const downloadFile = (type) => {\n    let filename;\n    if (type === \"Image\") filename = userInfo.ImagePath;\n    else filename = userInfo.resumePath;\n    axios({\n      method: \"POST\",\n      url: \"http://localhost:8080/getFile\",\n      responseType: \"blob\",\n      data: { filename },\n    })\n      .then((response) => {\n        console.log(response);\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", filename); //or any other extension\n        document.body.appendChild(link);\n        link.click();\n      })\n      .catch((err) => {\n        console.log(err);\n        <Redirect to='/login' />;\n      });\n  };\n\n  const updateInfo = (event) => {\n    setUserInfo((prevValues) => {\n      return {\n        ...prevValues,\n        [event.target.name]: event.target.value,\n      };\n    });\n  };\n\n  const updateFullInfo = () => {\n    console.log(\"request for updating\");\n    console.log(props.userType);\n    axios\n      .post(\"http://localhost:8080/updateUserInfo\", {\n        userInfo,\n        type: props.userType,\n      })\n      .then((response) => alert(\"Updated information\"))\n      .catch((err) => {\n        console.log(err);\n        alert(\"Couldnt update\");\n      });\n  };\n  const showEducation = () => {\n    return (\n      <div>\n        <Button\n          variant='contained'\n          color='primary'\n          className={classes.button}\n          startIcon={<AddIcon />}\n          onClick={handleEduOpen}\n        >\n          Add Education\n        </Button>\n        <Dialog\n          open={eduOpen}\n          onClose={handleEduClose}\n          aria-labelledby='form-dialog-title'\n        >\n          <DialogTitle id='form-dialog-title'>Education Instance</DialogTitle>\n          <DialogContent>\n            <TextField\n              autoFocus\n              required\n              margin='dense'\n              id='instName'\n              label='Institution Name'\n              type='text'\n              fullWidth\n            />\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n              <DatePicker\n                views={[\"year\"]}\n                required\n                label='Select Start Year'\n                value={startYear}\n                onChange={setStartYear}\n                style={{ marginTop: \"10px\" }}\n                fullWidth\n                animateYearScrolling\n              />\n              <DatePicker\n                views={[\"year\"]}\n                required\n                label='Select End Year'\n                value={endYear}\n                minDate={startYear}\n                onChange={setEndYear}\n                style={{ marginTop: \"10px\" }}\n                fullWidth\n                animateYearScrolling\n              />\n            </MuiPickersUtilsProvider>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleEduClose} color='primary'>\n              Cancel\n            </Button>\n            <Button onClick={addEducation} color='primary'>\n              Add\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <img\n        src={process.env.PUBLIC_URL + \"/assets/profilePic.png\"}\n        style={{ width: 100 }}\n        alt='profilePic'\n      />\n      <br />\n      <TextField\n        name='name'\n        value={userInfo.name}\n        onChange={updateInfo}\n      ></TextField>\n      <br />\n      <TextField\n        name='email'\n        value={userInfo.email}\n        onChange={updateInfo}\n      ></TextField>{\" \"}\n      <br />\n      <Rating\n        name='rating'\n        value={Number(userInfo.rating)}\n        onChange={updateInfo}\n        defaultValue={props.userInfo.rating}\n        precision={0.5}\n      />{\" \"}\n      <h1>{userInfo.rating}</h1>\n      <br />\n      {showEduction()}\n      <Button color='primary' onClick={updateFullInfo}>\n        Update Information\n      </Button>\n      <Button variant='contained' component='label'>\n        Upload Image\n        <input\n          type='file'\n          name='Image'\n          hidden\n          onChange={(e) => (e.target ? uploadFile(e) : null)}\n        />\n      </Button>\n      <Button variant='contained' component='label'>\n        Upload Resume\n        <input\n          type='file'\n          name='resume'\n          hidden\n          onChange={(e) => (e.target ? uploadFile(e) : null)}\n        />\n      </Button>\n      <Button onClick={() => downloadFile(\"Image\")}>Download Image</Button>\n      <Button onClick={() => downloadFile(\"resume\")}>Download Resume</Button>\n    </div>\n  );\n};\n\nexport default ShowInfo;\n"]},"metadata":{},"sourceType":"module"}